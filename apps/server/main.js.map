{"version":3,"file":"main.js","mappings":";;;;;;;;;;AAEA,wCAAoC;AAEvB,kBAAU,GAAgB;IACrC,MAAM,EAAE,kBAAS;IACjB,OAAO,EAAE,CAAC,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC;IACzC,WAAW,EAAE,IAAI;CAClB;;;;;;;;;;ACRD,sDAA4B;AAC5B,sDAA4B;;;;;;;ACD5B;;;;;;;;;ACAa,iBAAS,GAAG,OAAO,CAAC,GAAG,CAAC,UAAU,IAAI,uBAAuB;;;;;;;;;;ACA7D,oBAAY,GAAG,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,EAAE;AAEjD,kBAAU,GAAG,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,IAAI;AAE/C,sBAAc,GACzB,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,IAAI,8BAA8B;AAE3D,iBAAS,GAAG,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,uBAAuB;AAEhE,iBAAS,GAAG;IACvB,iBAAiB,EAAE,SAAS;CACpB;AAEG,qBAAa,GAAG,cAAc;AAE9B,wBAAgB,GAAG,MAAM;;;;;;;;;;ACftC,yCAA+E;AAE/E,wCAAwC;AAEjC,MAAM,iBAAiB,GAAG,CAAC,GAAG,EAAiB,EAAE;IACtD,MAAM,OAAO,GAAG,IAAI,yBAAe,EAAE;SAClC,QAAQ,CAAC,sBAAa,CAAC;SACvB,cAAc,CAAC,wBAAwB,CAAC;SACxC,UAAU,CAAC,OAAO,CAAC;SACnB,KAAK,EAAE;IAEV,OAAO,uBAAa,CAAC,cAAc,CAAC,GAAG,EAAE,OAAO,CAAC;AACnD,CAAC;AARY,yBAAiB,qBAQ7B;;;;;;;ACZD;;;;;;;;;ACAA,qDAA6D;AAApD,gJAAmB;;;;;;;;;;;ACE5B,yCAKuB;AAGhB,IAAM,mBAAmB,iCAAzB,MAAM,mBAAmB;IAC9B,KAAK,CAAC,SAAwB,EAAE,IAAmB;QACjD,MAAM,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE;QAC/B,MAAM,QAAQ,GAAG,GAAG,CAAC,WAAW,EAAY;QAC5C,MAAM,OAAO,GAAG,GAAG,CAAC,UAAU,EAAW;QACzC,MAAM,MAAM,GAAG,SAAS,CAAC,SAAS,EAAE;QAEpC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC;YAC3B,UAAU,EAAE,MAAM;YAClB,SAAS,EAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE;YACnC,IAAI,EAAE,OAAO,CAAC,GAAG;YACjB,OAAO,EAAE,SAAS,CAAC,OAAO;SAC3B,CAAC;IACJ,CAAC;CACF;8BAdY,mBAAmB;IAD/B,kBAAK,EAAC,sBAAa,CAAC;GACR,mBAAmB,CAc/B;;;;;;;ACxBD;;;;;;;;;;ACAA,oDAAgD;AAChD,kDAA0C;AAE1C,yCAKuB;AAGhB,IAAM,cAAc,4BAApB,MAAM,cAAc;IACzB,KAAK,CAAC,SAAS,CAAC,KAAc,EAAE,QAA0B;QACxD,MAAM,gBAAgB,GAAG,MAAM,8BAAQ,EACrC,oCAAY,EAAC,QAAQ,CAAC,QAAQ,EAAE,KAAK,CAAC,CACvC;QAED,IAAI,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/B,MAAM,QAAQ,GAAG,gBAAgB,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;gBAC5C,OAAO,GAAG,GAAG,CAAC,QAAQ,MAAM,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;YACzE,CAAC,CAAC;YACF,MAAM,IAAI,4BAAmB,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACnD;QAED,OAAO,KAAK;IACd,CAAC;CACF;yBAfY,cAAc;IAD1B,uBAAU,GAAE;GACA,cAAc,CAe1B;;;;;;;AC1BD;;;;;;ACAA;;;;;;ACAA;;;;;;;;;;ACAA,yCAAuC;AACvC,yCAA6C;AAE7C,oDAAgE;AAOzD,IAAM,SAAS,uBAAf,MAAM,SAAS;CAAG;oBAAZ,SAAS;IALrB,mBAAM,EAAC;QACN,OAAO,EAAE,CAAC,qBAAY,CAAC,OAAO,EAAE,EAAE,sCAAkB,CAAC;QACrD,WAAW,EAAE,EAAE;QACf,SAAS,EAAE,EAAE;KACd,CAAC;GACW,SAAS,CAAG;;;;;;;ACVzB;;;;;;;;;ACAA,qDAA2D;AAAlD,6IAAkB;;;;;;;;;;;ACA3B,yCAAuC;AAEvC,2DAAmE;AAEnE,2CAA8C;AAOvC,IAAM,kBAAkB,gCAAxB,MAAM,kBAAkB;CAAG;6BAArB,kBAAkB;IAL9B,mBAAM,EAAC;QACN,OAAO,EAAE,CAAC,4BAAiB,CAAC;QAC5B,WAAW,EAAE,CAAC,iDAAsB,CAAC;QACrC,SAAS,EAAE,EAAE;KACd,CAAC;GACW,kBAAkB,CAAG;;;;;;;;;;;;ACXlC,yCAA4E;AAC5E,yCAAoE;AAEpE,wCAAoC;AACpC,2CAMmB;AAIZ,IAAM,sBAAsB,oCAA5B,MAAM,sBAAsB;IACjC,YAAoB,eAAmC;QAAnC,oBAAe,GAAf,eAAe,CAAoB;IAAG,CAAC;IAIrD,KAAD,CAAC,WAAW,CACP,IAAuB;QAE/B,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,IAAI,CAAC;QAEpE,IAAI,CAAC,oCAAqB,EAAC,QAAQ,CAAC,EAAE;YACpC,MAAM,IAAI,4BAAmB,CAAC,iCAAkB,GAAE,CAAC;SACpD;QAED,OAAO,QAAQ;IACjB,CAAC;CACF;AAXO;IAHL,0BAAY,EAAC,EAAE,OAAO,EAAE,mBAAmB,EAAE,CAAC;IAC9C,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;IAC5B,iBAAI,GAAE;IAEJ,oCAAI,GAAE;;iEAAO,4BAAiB,oBAAjB,4BAAiB;gEAC9B,OAAO,oBAAP,OAAO;yDAQT;iCAfU,sBAAsB;IAFlC,qBAAO,EAAC,mBAAmB,CAAC;IAC5B,uBAAU,EAAC,kBAAS,CAAC,iBAAiB,CAAC;iEAED,6BAAkB,oBAAlB,6BAAkB;GAD5C,sBAAsB,CAgBlC;;;;;;;;;;;AC9BD,uDAA8B;AAC9B,gDAAkD;AAAzC,gIAAc;;;;;;;;;;ACDvB,qDAA8D;AAArD,2IAAiB;AAC1B,oDAAyD;AAAhD,0IAAiB;AAC1B,qDAA2D;AAAlD,6IAAkB;AAC3B,uCAAiD;AAAxC,+HAAkB;AAC3B,4CAAyD;AAAhD,0IAAqB;AAC9B,sCAAoE;AAA3D,gIAAmB;AAAE,4HAAiB;;;;;;;;;;;;ACL/C,kDAA4D;AAE5D,yCAA6C;AAE7C,wCAAuE;AAEvE,MAAa,iBAAiB;CAY7B;AAZD,8CAYC;AATU;IAFR,8BAAQ,GAAE;IACV,yBAAW,EAAC,EAAE,OAAO,EAAE,sBAAsB,EAAE,WAAW,EAAE,WAAW,EAAE,CAAC;;+CACtD;AAIZ;IAFR,0BAAI,EAAC,MAAM,CAAC,IAAI,CAAC,yBAAiB,CAAC,CAAC;IACpC,yBAAW,EAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,CAAC;0DAC9C,6BAAqB,oBAArB,6BAAqB;mDAAA;AAI/B;IAFR,8BAAQ,GAAE;IACV,gCAAU,GAAE;;gDACU;;;;;;;;;;ACfZ,yBAAiB,GAAG;IAC/B,IAAI,EAAE,MAAM;IACZ,MAAM,EAAE,IAAI;IACZ,GAAG,EAAE,KAAK;IACV,CAAC,EAAE,GAAG;IACN,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,UAAU,EAAE,IAAI;CACR;;;;;;;;;;;ACVV,wCAA0C;AAC1C,yCAAuC;AAEvC,uDAA2D;AAOpD,IAAM,iBAAiB,+BAAvB,MAAM,iBAAiB;CAAG;4BAApB,iBAAiB;IAL7B,mBAAM,EAAC;QACN,OAAO,EAAE,CAAC,kBAAU,CAAC;QACrB,SAAS,EAAE,CAAC,yCAAkB,CAAC;QAC/B,OAAO,EAAE,CAAC,yCAAkB,CAAC;KAC9B,CAAC;GACW,iBAAiB,CAAG;;;;;;;ACVjC;;;;;;;;;;;ACAA,iEAAyB;AACzB,wEAAoC;AAEpC,wCAA2C;AAC3C,yCAAmD;AAGnD,yCAAiD;AACjD,qDAAoE;AAGpE,wCAAyC;AAGlC,IAAM,kBAAkB,gCAAxB,MAAM,kBAAkB;IAC7B,YAA6B,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;IAAG,CAAC;IACzD,KAAK,CAAC,kBAAkB,CAAC,IAAuB;QAC9C,eAAM,CAAC,GAAG,CAAC,mCAAmC,CAAC;QAE/C,IAAI;YACF,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,WAAW;iBACpC,IAAI,CACH,uBAAc,EACd,0BAAS,EAAC,0CAAiB,EAAC,IAAI,CAAC,CAAC,EAClC;gBACE,OAAO,EAAE;oBACP,cAAc,EAAE,mCAAmC;iBACpD;aACF,CACF;iBACA,SAAS,EAAE;YAEd,OAAO,QAAQ,EAAE,IAAI;SACtB;QAAC,OAAO,KAAc,EAAE;YACvB,IAAI,eAAK,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE;gBAC7B,eAAM,CAAC,IAAI,CAAC,+BAAkB,EAAC,KAAK,CAAC,MAAM,CAAC,CAAC;aAC9C;SACF;QACD,OAAO,IAAI;IACb,CAAC;CACF;6BA1BY,kBAAkB;IAD9B,uBAAU,GAAE;iEAE+B,mBAAW,oBAAX,mBAAW;GAD1C,kBAAkB,CA0B9B;;;;;;;ACxCD;;;;;;ACAA;;;;;;;;;ACAO,MAAM,kBAAkB,GAAG,CAAC,MAAM,GAAG,GAAG,EAAE,EAAE;IACjD,OAAO,qDAAqD,MAAM,IAAI;AACxE,CAAC;AAFY,0BAAkB,sBAE9B;;;;;;;;;;ACDD,wCAAqE;AAM9D,MAAM,iBAAiB,GAAG,CAC/B,IAAuB,EACJ,EAAE;IACrB,OAAO;QACL,GAAG,IAAI;QACP,QAAQ,EAAE,yBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC;KAC3C;AACH,CAAC;AAPY,yBAAiB,qBAO7B;;;;;;;;;;ACZM,MAAM,qBAAqB,GAAG,CACnC,GAAY,EACgB,EAAE;IAC9B,IAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,GAAG,KAAK,IAAI,EAAE;QAC3C,OAAO,KAAK;KACb;IAED,IACE,WAAW,IAAI,GAAG;QAClB,OAAO,GAAG,CAAC,SAAS,KAAK,QAAQ;QACjC,QAAQ,IAAI,GAAG;QACf,OAAO,GAAG,CAAC,MAAM,KAAK,QAAQ;QAC9B,UAAU,IAAI,GAAG;QACjB,OAAO,GAAG,CAAC,QAAQ,KAAK,QAAQ,EAChC;QACA,OAAO,IAAI;KACZ;IAED,OAAO,KAAK;AACd,CAAC;AAnBY,6BAAqB,yBAmBjC;;;;;;;;;;;ACrBD,yCAAuC;AAEvC,+CAAkD;AAO3C,IAAM,cAAc,4BAApB,MAAM,cAAc;CAAG;yBAAjB,cAAc;IAL1B,mBAAM,EAAC;QACN,WAAW,EAAE,EAAE;QACf,SAAS,EAAE,EAAE;QACb,OAAO,EAAE,CAAC,gCAAiB,CAAC;KAC7B,CAAC;GACW,cAAc,CAAG;;;;;;UCT9B;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;;;;;ACtBA,sCAA0C;AAC1C,yCAAoD;AACpD,mDAAyD;AACzD,kDAAwD;AACxD,yCAAuC;AACvC,uCAA0C;AAC1C,yCAA+C;AAE/C,6CAAwC;AAExC,wCAAqE;AAErE,KAAK,UAAU,SAAS;IACtB,MAAM,GAAG,GAAG,MAAM,kBAAW,CAAC,MAAM,CAAC,sBAAS,CAAC;IAE/C,GAAG,CAAC,eAAe,CAAC,qBAAY,CAAC;IACjC,GAAG,CAAC,gBAAgB,CAAC,IAAI,uCAAmB,EAAE,CAAC;IAC/C,GAAG,CAAC,cAAc,CAAC,IAAI,gCAAc,EAAE,CAAC;IACxC,GAAG,CAAC,UAAU,CAAC,iBAAU,CAAC;IAE1B,uBAAa,CAAC,KAAK,CAAC,yBAAgB,EAAE,GAAG,EAAE,+BAAiB,EAAC,GAAG,CAAC,CAAC;IAElE,eAAM,CAAC,GAAG,CAAC,gCAAgC,mBAAU,EAAE,CAAC;IACxD,MAAM,GAAG,CAAC,MAAM,CAAC,mBAAU,CAAC;AAC9B,CAAC;AAED,SAAS,EAAE","sources":["webpack:///./src/config/cors.ts","webpack:///../../libs/config/src/index.ts","webpack:///external commonjs \"tslib\"","webpack:///../../libs/config/src/lib/client.ts","webpack:///../../libs/config/src/lib/server.ts","webpack:///./src/config/swagger.ts","webpack:///external commonjs \"@nestjs/swagger\"","webpack:///./src/exception-filters/index.ts","webpack:///./src/exception-filters/http-exception.filter.ts","webpack:///external commonjs \"@nestjs/common\"","webpack:///./src/pipes/validation.pipe.ts","webpack:///external commonjs \"class-transformer\"","webpack:///external commonjs \"class-validator\"","webpack:///external commonjs \"@nestjs/core\"","webpack:///./src/app.module.ts","webpack:///external commonjs \"@nestjs/config\"","webpack:///./src/modules/code-executor-api/index.ts","webpack:///./src/modules/code-executor-api/code-executor.module.ts","webpack:///./src/modules/code-executor-api/code-executor.controller.ts","webpack:///../../libs/nest-services/src/index.ts","webpack:///../../libs/nest-services/src/executor-api/index.ts","webpack:///../../libs/nest-services/src/executor-api/dto/execute-code-api.dto.ts","webpack:///../../libs/nest-services/src/executor-api/lib/types.ts","webpack:///../../libs/nest-services/src/executor-api/executor-api.module.ts","webpack:///external commonjs \"@nestjs/axios\"","webpack:///../../libs/nest-services/src/executor-api/executor-api.service.ts","webpack:///external commonjs \"axios\"","webpack:///external commonjs \"qs-stringify\"","webpack:///../../libs/nest-services/src/executor-api/lib/errors.ts","webpack:///../../libs/nest-services/src/executor-api/lib/helpers/transform-language.ts","webpack:///../../libs/nest-services/src/executor-api/lib/type-guards.ts","webpack:///../../libs/nest-services/src/services.module.ts","webpack:///webpack/bootstrap","webpack:///./src/main.ts"],"sourcesContent":["import { CorsOptions } from '@nestjs/common/interfaces/external/cors-options.interface'\n\nimport { clientUrl } from '$/config'\n\nexport const corsConfig: CorsOptions = {\n  origin: clientUrl,\n  methods: ['POST', 'PUT', 'DELETE', 'GET'],\n  credentials: true\n}\n","export * from './lib/client'\nexport * from './lib/server'\n","module.exports = require(\"tslib\");","export const clientUrl = process.env.CLIENT_URL ?? 'http://localhost:3000'\n","export const serverPrefix = process.env['SERVER_PREFIX'] ?? ''\n\nexport const serverPort = process.env['SERVER_PORT'] ?? 6868\n\nexport const compilerApiUrl =\n  process.env['CODE_COMPILER_API_URL'] ?? 'https://api.codex.jaagrav.in'\n\nexport const serverUrl = process.env['SERVER_URL'] ?? 'http://localhost:6868'\n\nexport const EndPoints = {\n  CODE_EXECUTOR_API: 'execute'\n} as const\n\nexport const serverAppName = 'CodeGear API'\n\nexport const serverDocsPrefix = 'docs'\n","import { DocumentBuilder, OpenAPIObject, SwaggerModule } from '@nestjs/swagger'\n\nimport { serverAppName } from '$/config'\n\nexport const createSwaggerDocs = (app): OpenAPIObject => {\n  const swagger = new DocumentBuilder()\n    .setTitle(serverAppName)\n    .setDescription('REST API documentation')\n    .setVersion('1.0.0')\n    .build()\n\n  return SwaggerModule.createDocument(app, swagger)\n}\n","module.exports = require(\"@nestjs/swagger\");","export { HttpExceptionFilter } from './http-exception.filter'\n","import { Request, Response } from 'express'\n\nimport {\n  ArgumentsHost,\n  Catch,\n  ExceptionFilter,\n  HttpException\n} from '@nestjs/common'\n\n@Catch(HttpException)\nexport class HttpExceptionFilter implements ExceptionFilter {\n  catch(exception: HttpException, host: ArgumentsHost) {\n    const ctx = host.switchToHttp()\n    const response = ctx.getResponse<Response>()\n    const request = ctx.getRequest<Request>()\n    const status = exception.getStatus()\n\n    response.status(status).json({\n      statusCode: status,\n      timestamp: new Date().toISOString(),\n      path: request.url,\n      message: exception.message\n    })\n  }\n}\n","module.exports = require(\"@nestjs/common\");","import { plainToClass } from 'class-transformer'\nimport { validate } from 'class-validator'\n\nimport {\n  ArgumentMetadata,\n  BadRequestException,\n  Injectable,\n  PipeTransform\n} from '@nestjs/common'\n\n@Injectable()\nexport class ValidationPipe implements PipeTransform {\n  async transform(value: unknown, metadata: ArgumentMetadata) {\n    const validationErrors = await validate(\n      plainToClass(metadata.metatype, value)\n    )\n\n    if (validationErrors.length > 0) {\n      const messages = validationErrors.map((err) => {\n        return `${err.property} - ${Object.values(err.constraints).join(', ')}`\n      })\n      throw new BadRequestException(messages.join('. '))\n    }\n\n    return value\n  }\n}\n","module.exports = require(\"class-transformer\");","module.exports = require(\"class-validator\");","module.exports = require(\"@nestjs/core\");","import { Module } from '@nestjs/common'\nimport { ConfigModule } from '@nestjs/config'\n\nimport { CodeExecutorModule } from './modules/code-executor-api'\n\n@Module({\n  imports: [ConfigModule.forRoot(), CodeExecutorModule],\n  controllers: [],\n  providers: []\n})\nexport class AppModule {}\n","module.exports = require(\"@nestjs/config\");","export { CodeExecutorModule } from './code-executor.module'\n","import { Module } from '@nestjs/common'\n\nimport { CodeExecutorController } from './code-executor.controller'\n\nimport { ExecutorApiModule } from '$/services'\n\n@Module({\n  imports: [ExecutorApiModule],\n  controllers: [CodeExecutorController],\n  providers: []\n})\nexport class CodeExecutorModule {}\n","import { BadRequestException, Body, Controller, Post } from '@nestjs/common'\nimport { ApiOperation, ApiResponse, ApiTags } from '@nestjs/swagger'\n\nimport { EndPoints } from '$/config'\nimport {\n  ExecuteCodeApiDTO,\n  ExecutorApiResponse,\n  ExecutorApiService,\n  FailedToFetchError,\n  isExecutorApiResponse\n} from '$/services'\n\n@ApiTags('Code executor API')\n@Controller(EndPoints.CODE_EXECUTOR_API)\nexport class CodeExecutorController {\n  constructor(private executorService: ExecutorApiService) {}\n  @ApiOperation({ summary: 'Execute your code' })\n  @ApiResponse({ status: 200 })\n  @Post()\n  async executeCode(\n    @Body() args: ExecuteCodeApiDTO\n  ): Promise<ExecutorApiResponse> {\n    const response = await this.executorService.fetchCodeToExecute(args)\n\n    if (!isExecutorApiResponse(response)) {\n      throw new BadRequestException(FailedToFetchError())\n    }\n\n    return response\n  }\n}\n","export * from './executor-api'\nexport { ServicesModule } from './services.module'\n","export { ExecuteCodeApiDTO } from './dto/execute-code-api.dto'\nexport { ExecutorApiModule } from './executor-api.module'\nexport { ExecutorApiService } from './executor-api.service'\nexport { FailedToFetchError } from './lib/errors'\nexport { isExecutorApiResponse } from './lib/type-guards'\nexport { ExecutorApiResponse, ExecutorLanguages } from './lib/types'\n","import { IsIn, IsOptional, IsString } from 'class-validator'\n\nimport { ApiProperty } from '@nestjs/swagger'\n\nimport { ExecutorLanguages, ExecutorLanguagesKeys } from '../lib/types'\n\nexport class ExecuteCodeApiDTO {\n  @IsString()\n  @ApiProperty({ example: 'print(\"hello world\")', description: 'Your code' })\n  readonly code: string\n\n  @IsIn(Object.keys(ExecutorLanguages))\n  @ApiProperty({ example: 'python', description: 'Code language' })\n  readonly language: ExecutorLanguagesKeys\n\n  @IsString()\n  @IsOptional()\n  readonly input?: string\n}\n","import { HttpStatus } from '@nestjs/common'\n\nexport const ExecutorLanguages = {\n  java: 'java',\n  python: 'py',\n  cpp: 'cpp',\n  c: 'c',\n  go: 'go',\n  cs: 'cs',\n  javascript: 'js'\n} as const\n\nexport type ExecutorLanguagesKeys = keyof typeof ExecutorLanguages\nexport type ExecutorLanguagesValues =\n  (typeof ExecutorLanguages)[ExecutorLanguagesKeys]\n\nexport interface ExecutorApiResponse {\n  timeStamp: number\n  status: HttpStatus\n  output: string\n  error: string\n  language: ExecutorLanguagesValues\n  info: string\n}\n","import { HttpModule } from '@nestjs/axios'\nimport { Module } from '@nestjs/common'\n\nimport { ExecutorApiService } from './executor-api.service'\n\n@Module({\n  imports: [HttpModule],\n  providers: [ExecutorApiService],\n  exports: [ExecutorApiService]\n})\nexport class ExecutorApiModule {}\n","module.exports = require(\"@nestjs/axios\");","import axios from 'axios'\nimport stringify from 'qs-stringify'\n\nimport { HttpService } from '@nestjs/axios'\nimport { Injectable, Logger } from '@nestjs/common'\n\nimport { ExecuteCodeApiDTO } from './dto/execute-code-api.dto'\nimport { FailedToFetchError } from './lib/errors'\nimport { transformLanguage } from './lib/helpers/transform-language'\nimport { ExecutorApiResponse } from './lib/types'\n\nimport { compilerApiUrl } from '$/config'\n\n@Injectable()\nexport class ExecutorApiService {\n  constructor(private readonly httpService: HttpService) {}\n  async fetchCodeToExecute(args: ExecuteCodeApiDTO) {\n    Logger.log('Request to execute custom code...')\n\n    try {\n      const response = await this.httpService\n        .post<ExecutorApiResponse>(\n          compilerApiUrl,\n          stringify(transformLanguage(args)),\n          {\n            headers: {\n              'Content-Type': 'application/x-www-form-urlencoded'\n            }\n          }\n        )\n        .toPromise()\n\n      return response?.data\n    } catch (error: unknown) {\n      if (axios.isAxiosError(error)) {\n        Logger.warn(FailedToFetchError(error.status))\n      }\n    }\n    return null\n  }\n}\n","module.exports = require(\"axios\");","module.exports = require(\"qs-stringify\");","export const FailedToFetchError = (status = 400) => {\n  return `Failed to get response from api.codex.jaagrav.in (${status}).`\n}\n","import { ExecuteCodeApiDTO } from '../../dto/execute-code-api.dto'\nimport { ExecutorLanguages, ExecutorLanguagesValues } from '../types'\n\ntype TransformLanguage = Omit<ExecuteCodeApiDTO, 'language'> & {\n  language: ExecutorLanguagesValues\n}\n\nexport const transformLanguage = (\n  args: ExecuteCodeApiDTO\n): TransformLanguage => {\n  return {\n    ...args,\n    language: ExecutorLanguages[args.language]\n  }\n}\n","import { ExecutorApiResponse } from './types'\n\nexport const isExecutorApiResponse = (\n  res: unknown\n): res is ExecutorApiResponse => {\n  if (typeof res !== 'object' || res === null) {\n    return false\n  }\n\n  if (\n    'timeStamp' in res &&\n    typeof res.timeStamp === 'number' &&\n    'output' in res &&\n    typeof res.output === 'string' &&\n    'language' in res &&\n    typeof res.language === 'string'\n  ) {\n    return true\n  }\n\n  return false\n}\n","import { Module } from '@nestjs/common'\n\nimport { ExecutorApiModule } from './executor-api'\n\n@Module({\n  controllers: [],\n  providers: [],\n  imports: [ExecutorApiModule]\n})\nexport class ServicesModule {}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import { corsConfig } from '@/config/cors'\nimport { createSwaggerDocs } from '@/config/swagger'\nimport { HttpExceptionFilter } from '@/exception-filters'\nimport { ValidationPipe } from '@/pipes/validation.pipe'\nimport { Logger } from '@nestjs/common'\nimport { NestFactory } from '@nestjs/core'\nimport { SwaggerModule } from '@nestjs/swagger'\n\nimport { AppModule } from './app.module'\n\nimport { serverDocsPrefix, serverPort, serverPrefix } from '$/config'\n\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule)\n\n  app.setGlobalPrefix(serverPrefix)\n  app.useGlobalFilters(new HttpExceptionFilter())\n  app.useGlobalPipes(new ValidationPipe())\n  app.enableCors(corsConfig)\n\n  SwaggerModule.setup(serverDocsPrefix, app, createSwaggerDocs(app))\n\n  Logger.log(`ðŸš€ Server is running on port ${serverPort}`)\n  await app.listen(serverPort)\n}\n\nbootstrap()\n"],"names":[],"sourceRoot":""}